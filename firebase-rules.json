{
  "rules": {
    ".read": true,
    ".write": true,
    "images": {
      "$imageId": {
        ".validate": "newData.hasChildren(['title', 'url', 'createdAt', 'updatedAt'])",
        "title": {
          ".validate": "newData.isString() && newData.val().length > 0"
        },
        "url": {
          ".validate": "newData.isString() && newData.val().length > 0"
        },
        "createdAt": {
          ".validate": "newData.isString()"
        },
        "updatedAt": {
          ".validate": "newData.isString()"
        },
        "prompts": {
          "$promptId": {
            ".validate": "newData.hasChildren(['title', 'content', 'color', 'order', 'createdAt', 'updatedAt'])",
            "title": {
              ".validate": "newData.isString()"
            },
            "content": {
              ".validate": "newData.isString()"
            },
            "color": {
              ".validate": "newData.isString()"
            },
            "order": {
              ".validate": "newData.isNumber()"
            },
            "createdAt": {
              ".validate": "newData.isString()"
            },
            "updatedAt": {
              ".validate": "newData.isString()"
            }
          }
        },
        "tags": {
          "$tagId": {
            ".validate": "newData.isBoolean() && newData.val() === true"
          }
        }
      }
    },
    "tags": {
      "$tagId": {
        ".validate": "newData.hasChildren(['name', 'color', 'usageCount', 'createdAt', 'updatedAt'])",
        "name": {
          ".validate": "newData.isString() && newData.val().length > 0"
        },
        "color": {
          ".validate": "newData.isString()"
        },
        "usageCount": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "createdAt": {
          ".validate": "newData.isString()"
        },
        "updatedAt": {
          ".validate": "newData.isString()"
        }
      }
    }
  }
}